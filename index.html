<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bol√£o ‚Ä¢ Compra de Cotas</title>
<style>
  :root{
    --bg:#0e172a;--card:#131c33;--ink:#f8fafc;--accent:#f59e0b;--muted:#94a3b8;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:system-ui,Segoe UI,Roboto;
    background:var(--bg);
    color:var(--ink);
  }
  header{
    text-align:center;
    padding:20px;
  }
  header img.banner{
    width:100%;
    max-height:280px;
    object-fit:cover;
    border-bottom:4px solid var(--accent);
  }
  h1{margin-top:12px;font-size:1.8em;color:var(--accent)}
  main{
    max-width:600px;
    margin:20px auto;
    background:var(--card);
    padding:20px;
    border-radius:12px;
    box-shadow:0 4px 24px rgba(0,0,0,0.4);
  }
  .photo-grid{
    display:flex;
    justify-content:space-around;
    flex-wrap:wrap;
    margin-bottom:20px;
  }
  .photo{
    width:80px;
    height:80px;
    border-radius:50%;
    overflow:hidden;
    border:3px solid transparent;
    cursor:pointer;
    transition:0.3s;
  }
  .photo img{
    width:100%;height:100%;object-fit:cover;
  }
  .photo.selected{border-color:var(--accent);transform:scale(1.1)}
  form{display:flex;flex-direction:column;gap:12px}
  label{font-size:0.9em;color:var(--muted)}
  input{
    padding:10px;
    border-radius:8px;
    border:none;
    background:#1e293b;
    color:var(--ink);
    font-size:1em;
  }
  button{
    background:var(--accent);
    color:#000;
    font-weight:700;
    border:none;
    border-radius:8px;
    padding:12px;
    cursor:pointer;
  }
  button:hover{opacity:0.9}
  .message{text-align:center;margin-top:14px;color:var(--muted);font-size:0.9em}
</style>
</head>
<body>

<header>
  <img class="banner" src="https://images.unsplash.com/photo-1606813902859-4cb0c0bfae24?q=80&w=1200&auto=format&fit=crop" alt="Banner Bol√£o">
  <h1>Bol√£o da Sorte üéâ</h1>
  <p>Escolha uma op√ß√£o abaixo e participe! Boa sorte üçÄ</p>
</header>

<main>
  <div class="photo-grid" id="photoGrid">
    <div class="photo"><img src="https://images.unsplash.com/photo-1556740749-887f6717d7e4?w=400" alt="1"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1581091215367-59ab6d3213b1?w=400" alt="2"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1564869733280-233b6fbc55d0?w=400" alt="3"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1550510537-0b38c0d62f5a?w=400" alt="4"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1593642532973-d31b6557fa68?w=400" alt="5"></div>
  </div>

  <form id="formBolao">
    <label>Nome completo</label>
    <input type="text" id="nome" required placeholder="Seu nome">

    <label>E-mail</label>
    <input type="email" id="email" required placeholder="seu@email.com">

    <label>Telefone / WhatsApp</label>
    <input type="tel" id="telefone" required placeholder="(00) 00000-0000">

    <label>Quantidade de cotas</label>
    <input type="number" id="qtd" required min="1" max="50" placeholder="Ex: 2">

    <input type="hidden" id="fotoSelecionada" value="">

    <button type="submit">Enviar participa√ß√£o</button>
  </form>

  <div class="message" id="msg"></div>
</main>

<script>
  // URL do seu Apps Script
  const SCRIPT_URL = "https://script.google.com/macros/s/SEU_SCRIPT_ID/exec";

  const grid = document.getElementById('photoGrid');
  const fotos = grid.querySelectorAll('.photo');
  const fotoSelecionada = document.getElementById('fotoSelecionada');
  const form = document.getElementById('formBolao');
  const msg = document.getElementById('msg');

  fotos.forEach(f => {
    f.addEventListener('click', () => {
      fotos.forEach(ff => ff.classList.remove('selected'));
      f.classList.add('selected');
      const src = f.querySelector('img').src;
      fotoSelecionada.value = src;
      const qtd = prompt('Quantas cotas deseja comprar?');
      if(qtd && !isNaN(qtd)){
        document.getElementById('qtd').value = qtd;
      }
    });
  });

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    msg.textContent = "Enviando...";
    const data = {
      action: "registrar",
      nome: form.nome.value,
      email: form.email.value,
      telefone: form.telefone.value,
      qtd: form.qtd.value,
      foto: fotoSelecionada.value,
      status: "PENDENTE",
      data: new Date().toISOString()
    };

    try {
      const res = await fetch(SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      });
      if(res.ok){
        msg.textContent = "Cadastro enviado! Aguardando aprova√ß√£o.";
        localStorage.setItem("participante", JSON.stringify(data));
        form.reset();
        fotos.forEach(f=>f.classList.remove('selected'));
      } else {
        msg.textContent = "Erro ao enviar. Tente novamente.";
      }
    } catch(err){
      msg.textContent = "Falha de conex√£o.";
      console.error(err);
    }
  });
</script>

</body>
</html>
